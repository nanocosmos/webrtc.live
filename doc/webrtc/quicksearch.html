<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" webrtc Classes RtcUser Classes Classes RtcUser × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" webrtc Classes RtcUser Index nano.rtcuser.js WebRTC Public API Class. Version: 4.6.5 Author: nanocosmos IT GmbH Copyright: (c) 2016 nanocosmos IT GmbH. All rights reserved. × Search results Close "},"RtcUser.html":{"id":"RtcUser.html","title":"Class: RtcUser","body":" webrtc Classes RtcUser Class: RtcUser RtcUser WebRTC Public API Class Version 4.6.5. new RtcUser() WebRTC Public API Class. Example var rtcUser = new RtcUser(); Methods addLocalMedia(mediaId, mediaIndex [, useScreenCapture] [, useScreenCaptureOnly]) Adds a local media controller to the RtcUser. Parameters: Name Type Argument Default Description mediaId string The name of the media controller. mediaIndex number The index of the media controller. useScreenCapture boolean | string &lt;optional&gt; true A flag to enable screen capture over a chrome extension. If a string will be passed, the screen capture gets this as name and will be enabled. useScreenCaptureOnly boolean &lt;optional&gt; false A flag to enable only screen capture. Example // rtcUser instance of RtcUser var mediaId = 'local'; var mediaIndex = 0; rtcUser.addLocalMedia(mediaId, mediaIndex); answerCall(remoteUserId) Answers a call with another user. Parameters: Name Type Description remoteUserId string The remote user id of the other user. Fires: event:??? Example // rtcUser instance of RtcUser var remoteUserId = '49647969'; rtcUser.hangUpCall(remoteUserId); checkServer(server) Checks the state of a webrtc server. Parameters: Name Type Description server string The url of the server. Fires: event:ReceivedServerStats Example // rtcUser instance of RtcUser var server = 'https://rtc-lb.nanocosmos.de/p/webrtc' rtcUser.checkServer(server); checkSupport() Checks if nanoStream WebRTC is supported by current browser Example RtcUser.checkSupport(); declineCall(remoteUserId) Declines a call with another user. Parameters: Name Type Description remoteUserId string The remote user id of the other user. Fires: event:??? Example // rtcUser instance of RtcUser var remoteUserId = '49647969'; rtcUser.declineCall(remoteUserId); enableStats( [enable] [, interval]) Enables to receive webrtc stats in a given time interval. Parameters: Name Type Argument Default Description enable boolean &lt;optional&gt; true A flag to enable webrtc stats. interval number &lt;optional&gt; 1000 The interval time in milli seconds. Fires: event:ReceivedWebRTCStats Examples // rtcUser instance of RtcUser rtcUser.enableStats(); // rtcUser instance of RtcUser var enable = false; rtcUser.enableStats(enable); // rtcUser instance of RtcUser var enable = true; var interval = 5000; rtcUser.enableStats(enable, interval); enterRoom() Connects to the webrtc server and enters the specified room. Fires: event:EnterRoomSuccess event:EnterRoomError Example // rtcUser instance of RtcUser rtcUser.enterRoom(); getDevices(mediaIndexOrId) Gets all connected local video and audio devices Parameters: Name Type Description mediaIndexOrId string | number The mediaId or the mediaIndex of a local media controller. Fires: event:ReceivedDeviceList Examples // rtcUser instance of RtcUser var mediaId = 'local'; rtcUser.getDevices(mediaId); var mediaIndex = 0; rtcUser.getDevices(mediaIndex); hangUpCall(remoteUserId) Hangs up a call with another user. Parameters: Name Type Description remoteUserId string The remote user id of the other user. Fires: event:??? Example // rtcUser instance of RtcUser var remoteUserId = '49647969'; rtcUser.hangUpCall(remoteUserId); injectExternalMediaStream(config) Mixes tracks (currently only audio) of an external MediaStream into the currently previewed local stream Parameters: Name Type Description config object Config object with info on what to mix in Properties Name Type Description stream MediaStream the MediaStream containing the track(s) to mix in tracks Array.&lt;string&gt; Array with the types of tracks which should be injected (only 'audio' is supported at the moment) Example // rtcUser instance of RtcUser // externalStream instance of MediaStream (https://developer.mozilla.org/de/docs/Web/API/MediaStream) var data = {stream: externalStream, tracks: ['audio']}; rtcUser.injectExternalMediaStream(data); invokeCall(remoteUserId) Invokes a call with another user. Parameters: Name Type Description remoteUserId string The remote user id of the other user. Fires: event:CallStillActive Example // rtcUser instance of RtcUser var remoteUserId = '49647969'; rtcUser.invokeCall(remoteUserId); isScreenCaptureAvailable() Checks if a Screen Capture Extension was added via addLocalMedia() Example // rtcUser instance of RtcUser this.rtcuser.addLocalMedia(&quot;local&quot;, 0, 'nanoScreenCapture', false); // wait until api has registered extension: setTimeout(function() { var hasScreenCapture = rtcUser.isScreenCaptureAvailable(); }, 1000); isSignedIn() → {boolean} Checks if the RtcUser is connected with the webrtc server and signed in. Returns: Type boolean Example // rtcUser instance of RtcUser var isSignedIn = rtcUser.isSignedIn(); if (isSignedIn) { console.log('signed in'); } else { console.log('not signed in'); } leaveRoom(forceSignOut) Disconnects from the webrtc server and leaves the specified room. Parameters: Name Type Description forceSignOut boolean Force stopping the broadcast. Fires: event:LeaveRoomSuccess event:LeaveRoomError Example // rtcUser instance of RtcUser rtcUser.leaveRoom(); muteAudio(mediaIndexOrId, mute) Mutes/unmutes the audio of a local media controller Parameters: Name Type Description mediaIndexOrId string | number The mediaId or the mediaIndex of a local media controller. mute boolean Mute/unmute. Example // rtcUser instance of RtcUser var mediaId = 'local'; var mute = true; rtcUser.muteAudio(mediaId, mute); muteVideo(mediaIndexOrId, mute) Mutes/unmutes the video of a local media controller Parameters: Name Type Description mediaIndexOrId string | number The mediaId or the mediaIndex of a local media controller. mute boolean Mute/unmute. Example // rtcUser instance of RtcUser var mediaId = 'local'; var mute = true; rtcUser.muteVideo(mediaId, mute); sendMetaData(handlerName, jsonValues) Add live meta data to a broadcast stream. Parameters: Name Type Description handlerName 'onMetaData' | 'onCuePoint' Name of the meta data handler. Other types are not supported. jsonValues object The data to be sent. Parameter can contain a maximum object depth of 6. Example // rtcUser instance of RtcUser rtcUser.sendMetaData('onMetaData', {myString: &quot;hello&quot;, myInteger: 1234}); setAudioDevice(mediaIndexOrId, config) Sets the input audio device for a local media controller Parameters: Name Type Description mediaIndexOrId string | number The mediaId or the mediaIndex of a local media controller. config object The config object Properties Name Type Description device boolean | number The value of the audio device, possible values: true (auto device), false (no audio), number (index of the audio device) Examples // rtcUser instance of RtcUser var mediaId = 'local'; var config = { device: 0 }; rtcUser.setAudioDevice(mediaId, config); // rtcUser instance of RtcUser var mediaIndex = 0; var config = { device: 0 }; rtcUser.setAudioDevice(mediaIndex, config); // rtcUser instance of RtcUser var mediaId = 'local'; var config = { device: true // auto device }; rtcUser.setAudioDevice(mediaId, config); // rtcUser instance of RtcUser var mediaIndex = 0; var config = { device: false // no video }; rtcUser.setAudioDevice(mediaIndex, config); setConfig(server, userName, room [, token], serverUserName, serverPassword [, bintuApiKey]) Sets the config for the RtcUser. Parameters: Name Type Argument Description server string The url to the webrtc server. userName string The name of the RtcUser. room string The room to join. token string &lt;optional&gt; The security token for the server. serverUserName string The username credential for the server. serverPassword string The password credential for the server. bintuApiKey string &lt;optional&gt; The bintu apikey for authentication. Example // rtcUser instance of RtcUser var server = 'https://rtc-lb.nanocosmos.de/p/1'; var userName = 'WebrtcChatter'; var room = 'myChatRoom'; var token = 'token-123'; var serverUserName = 'username'; var serverPassword = 'password'; var bintuApiKey = 'awdegfq3490puerg2w54zj2p0w4h46zphm694i0796'; rtcUser.setConfig(server, userName, room, token, serverUserName, serverPassword, bintuApiKey); setIceServers(iceServers) Sets an array of turn/stun-servers for the peer-to-peer connection. Parameters: Name Type Argument Description iceServers Array.&lt;object&gt; The ice servers object. iceServers[].urls Array.&lt;string&gt; An array of urls. iceServers[].username string &lt;optional&gt; The username for the ice servers if required. iceServers[].credential string &lt;optional&gt; The password for the ice servers if required. Example // rtcUser instance of RtcUser var iceServers = [ { urls: [ 'turn:turn.myTurnServer.net:80?transport=udp' ], username: 'username', credential: 'password' }, { urls: [ 'turn:turn.myTurnServer.net:80?transport=udp' ], username: 'username', credential: 'password' }, { urls: [ 'stun:stun.l.google.com:19302' ] } ]; rtcUser.setIceServers(iceServers); setOptionalConfig(config) Sets optional config for the RtcUser. Parameters: Name Type Description config object The config object. Properties Name Type Description codecs object The codec object. Properties Name Type Default Description videoCodec string 'H264' The video codec to use (possible values: 'VP8', 'VP9', 'H264'). bitrates object The codec object. Properties Name Type Default Description videoSendInitialBitrate string 0 The webrtc initial bitrate videoSendBitrate string 0 The webrtc bitrate Example // rtcUser instance of RtcUser var config = { codecs: { videoCodec: 'H264' }, bitrates: { videoSendInitialBitrate: 500, videoSendBitrate: 1000 } }; rtcUser.setOptionalConfig(config); setVideoDevice(mediaIndexOrId, config) Sets the input video device with config for a local media controller Parameters: Name Type Description mediaIndexOrId string | number The mediaId or the mediaIndex of a local media controller. config object The config object Properties Name Type Argument Description device boolean | number The value of the video device, possible values: true (auto device), false (no video), number (index of the video device) width number &lt;optional&gt; The input width (only if device will be set by index) height number &lt;optional&gt; The input height (only if device will be set by index) framerate number &lt;optional&gt; The input framerate (only if device will be set by index) Examples // rtcUser instance of RtcUser var mediaId = 'local'; var config = { device: 0, width: 640, height: 360, framerate: 30 }; rtcUser.setVideoDevice(mediaId, config); // rtcUser instance of RtcUser var mediaIndex = 0; var config = { device: 0 }; rtcUser.setVideoDevice(mediaIndex, config); // rtcUser instance of RtcUser var mediaId = 'local'; var config = { device: true // auto device }; rtcUser.setVideoDevice(mediaId, config); // rtcUser instance of RtcUser var mediaIndex = 0; var config = { device: false // no video }; rtcUser.setVideoDevice(mediaIndex, config); startBroadcast(config) Starts a broadcast to a rtmp ingest with transcoding configs. Parameters: Name Type Description config object The config object. Properties Name Type Description transcodingTargets object The transcoding config object. Properties Name Type Argument Default Description output string The rtmp ingest url for the first stream. streamname string &lt;optional&gt; null Optional streamname. Use if you want to pass output and streamname seperately. videobitrate number &lt;optional&gt; null The video bitrate for the transcode of the first stream. audiobitrate number &lt;optional&gt; null The audio bitrate for the transcode of the first stream. framerate number &lt;optional&gt; null The framerate for the transcode of the first stream. dropframes string &lt;optional&gt; null A flag to enable frame dropping (possible values: '0', '1'). h264passthrough string &lt;optional&gt; null A flag to enable transmuxing without transcoding if video codec 'H264' is used (possible values: '0', '1'). icecast_audio string &lt;optional&gt; null A flag to enable embedding of an icecast audio stream, normal audio will be ignored (possible values: '0', '1'). rtmpconnectinfo string &lt;optional&gt; null Data to be send with the rtmp streams &quot;onconnect&quot;. Pass flat object with key value pairs, hierarchies are not supported. Fires: event:StartBroadcastSuccess event:StartBroadcastError Example // rtcUser instance of RtcUser var broadcastConfig = { transcodingTargets: { output: 'rtmp://myIngestServer.com:1935/live/webrtcBroadcast', videobitrate: 500000, audiobitrate: 64000, framerate: 30, dropframes: '0', icecast_audio: '0', rtmpconnectinfo: {&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:7.5,&quot;key3&quot;:false} } }; rtcUser.startBroadcast(broadcastConfig); startPreview(mediaIndexOrId, videoDeviceConfig, audioDeviceConfig [, elementId]) Starts the preview of a local media controller Parameters: Name Type Argument Description mediaIndexOrId string | number The mediaId or the mediaIndex of a local media controller. videoDeviceConfig object The video config object audioDeviceConfig object The audio config object elementId string &lt;optional&gt; The id of a video element to pass in the requested stream directly Fires: event:StartPreviewSuccess event:StartPreviewError Example // rtcUser instance of RtcUser var mediaId = 'local'; var videoDeviceConfig = { device: 0, width: 640, height: 360, framerate: 30 }; var audioDeviceConfig = { device: 0 }; rtcUser.startPreview(mediaId, videoDeviceConfig, audioDeviceConfig); stopBroadcast(forceSignOut) Stop a running broadcast. Parameters: Name Type Description forceSignOut boolean Force stopping the broadcast. Fires: event:StopBroadcastSuccess event:StopBroadcastError Example // rtcUser instance of RtcUser rtcUser.stopBroadcast(); stopPreview(mediaIndexOrId) Stops the preview of a local media controller Parameters: Name Type Description mediaIndexOrId string | number The mediaId or the mediaIndex of a local media controller. Fires: event:StopPreviewSuccess event:StopPreviewError Example // rtcUser instance of RtcUser var mediaId = 'local'; rtcUser.stopPreview(mediaId); × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
